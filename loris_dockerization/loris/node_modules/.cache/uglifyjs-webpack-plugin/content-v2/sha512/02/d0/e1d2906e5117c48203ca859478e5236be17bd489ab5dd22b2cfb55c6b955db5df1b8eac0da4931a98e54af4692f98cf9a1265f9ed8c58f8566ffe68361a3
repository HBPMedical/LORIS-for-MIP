{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"external \\\"React\\\"\",\"/var/www/loris/modules/candidate_list/jsx/openProfileForm.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"getDefault\",\"getModuleExports\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"React\",\"_react\",\"OpenProfileForm\",\"props\",\"_classCallCheck\",\"this\",\"_this\",\"_possibleConstructorReturn\",\"__proto__\",\"getPrototypeOf\",\"state\",\"error\",\"message\",\"className\",\"PSCID\",\"CandID\",\"updateFormElement\",\"validateAndSubmit\",\"formElement\",\"setState\",\"$\",\"loris\",\"data\",\"window\",\"warning\",\"_react2\",\"default\",\"createElement\",\"FormElement\",\"onSubmit\",\"TextboxElement\",\"label\",\"onUserInput\",\"ButtonElement\",\"Component\"],\"mappings\":\"mBACA,IAAAA,oBAGA,SAAAC,oBAAAC,UAGA,GAAAF,iBAAAE,UAAA,CACA,OAAAF,iBAAAE,UAAAC,QAGA,IAAAC,OAAAJ,iBAAAE,WACAG,EAAAH,SACAI,EAAA,MACAH,YAIAI,QAAAL,UAAAM,KAAAJ,OAAAD,QAAAC,OAAAA,OAAAD,QAAAF,qBAGAG,OAAAE,EAAA,KAGA,OAAAF,OAAAD,QAKAF,oBAAAQ,EAAAF,QAGAN,oBAAAS,EAAAV,iBAGAC,oBAAAU,EAAA,SAAAR,QAAAS,KAAAC,QACA,IAAAZ,oBAAAa,EAAAX,QAAAS,MAAA,CACAG,OAAAC,eAAAb,QAAAS,MAA0CK,WAAA,KAAAC,IAAAL,WAK1CZ,oBAAAkB,EAAA,SAAAhB,SACA,UAAAiB,SAAA,aAAAA,OAAAC,YAAA,CACAN,OAAAC,eAAAb,QAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,QAAA,cAAiDmB,MAAA,QAQjDrB,oBAAAsB,EAAA,SAAAD,MAAAE,MACA,GAAAA,KAAA,EAAAF,MAAArB,oBAAAqB,OACA,GAAAE,KAAA,EAAA,OAAAF,MACA,GAAAE,KAAA,UAAAF,QAAA,UAAAA,OAAAA,MAAAG,WAAA,OAAAH,MACA,IAAAI,GAAAX,OAAAY,OAAA,MACA1B,oBAAAkB,EAAAO,IACAX,OAAAC,eAAAU,GAAA,WAAyCT,WAAA,KAAAK,QACzC,GAAAE,KAAA,UAAAF,OAAA,SAAA,IAAA,IAAAM,OAAAN,MAAArB,oBAAAU,EAAAe,GAAAE,IAAA,SAAAA,KAAgH,OAAAN,MAAAM,MAAqBC,KAAA,KAAAD,MACrI,OAAAF,IAIAzB,oBAAA6B,EAAA,SAAA1B,QACA,IAAAS,OAAAT,QAAAA,OAAAqB,WACA,SAAAM,aAA2B,OAAA3B,OAAA,YAC3B,SAAA4B,mBAAiC,OAAA5B,QACjCH,oBAAAU,EAAAE,OAAA,IAAAA,QACA,OAAAA,QAIAZ,oBAAAa,EAAA,SAAAmB,OAAAC,UAAsD,OAAAnB,OAAAoB,UAAAC,eAAA5B,KAAAyB,OAAAC,WAGtDjC,oBAAAoC,EAAA,GAIA,OAAApC,oBAAAA,oBAAAqC,EAAA,kCClFAlC,OAAAD,QAAAoC,+1BCAA,IAAAC,OAAAvC,oBAAA,ugCAQMwC,2EACJ,SAAAA,gBAAAC,OAAmBC,gBAAAC,KAAAH,iBAAA,IAAAI,MAAAC,2BAAAF,MAAAH,gBAAAM,WAAAhC,OAAAiC,eAAAP,kBAAAjC,KAAAoC,KAAAF,QAGjBG,MAAAI,OACEC,OACEC,QADK,GAELC,UAAW,kCAEbC,MALW,GAMXC,OAAQ,IAGVT,MAAAU,kBAAyBV,MAAAU,kBAAA1B,KAAzBgB,OACAA,MAAAW,kBAAyBX,MAAAW,kBAAA3B,KAAzBgB,OAbiB,OAAAA,8FAgBDY,YAAanC,OAC7B,IAAI2B,MAAQL,KAAZK,MACAA,MAAAA,aAAAA,MACAL,KAAAc,SAAAT,qEAIA,IAAIA,MAAQL,KAAZK,MACA,GAAIL,KAAAK,MAAAK,SAAJ,GAA8B,CAC5BL,MAAAA,OACEE,QADY,0BAEZC,UAAW,kCAEbR,KAAAc,SAAAT,OACA,OAGF,GAAIL,KAAAK,MAAAI,QAAJ,GAA6B,CAC3BJ,MAAAA,OACEE,QADY,0BAEZC,UAAW,kCAEbR,KAAAc,SAAAT,OACA,OAKFA,MAAAA,OACEE,QADY,gBAEZC,UAAW,gCAEbR,KAAAc,SAAAT,OAEAU,EAAAA,IAAMC,MAAAA,QAAND,+BAEIL,OAAQL,MADVK,OAEED,MAAOJ,MAAMI,OAEb,SAAAQ,MAEE,GAAIA,OAAJ,IAAkB,CAChBZ,MAAAA,OACEE,QADY,qBAEZC,UAAW,gCAEbU,OAAAA,SAAAA,KAAuBF,MAAAA,QAAAA,IAAsBX,MAA7Ca,WACK,CAELb,MAAAA,OACEE,QADY,8BAEZC,UAAW,kCAGfR,KAAAc,SAAAT,QAfFpB,KALJ8B,+CAyBA,IAAII,aAAJ,EAEA,GAAInB,KAAAK,MAAAC,MAAAC,UAAJ,GAAqC,CACnCY,QACQC,QAAAC,QAAAC,cAAA,OAAKd,UAAWR,KAAAK,MAAAC,MAAhBE,WACGR,KAAAK,MAAAC,MAAiBC,SAI9B,OACEa,QAAAC,QAAAC,cAAAC,aACEvD,KADF,cAEEwD,SAAUxB,KAFZY,mBAGEQ,QAAAC,QAAAC,cAAAG,gBACEzD,KADF,SAEE0D,MAFF,QAGEhD,MAAOsB,KAAAK,MAHTK,OAIEiB,YAAa3B,KAAKW,oBAEpBS,QAAAC,QAAAC,cAAAG,gBACEzD,KADF,QAEE0D,MAFF,QAGEhD,MAAOsB,KAAAK,MAHTI,MAIEkB,YAAa3B,KAAKW,oBAbtBQ,QAgBEC,QAAAC,QAAAC,cAAAM,eACE5D,KADF,eAEE0D,MAFF,eAGEC,YAAa3B,KAAKY,iDAzGEiB,OAAAA,2BAgHfhC\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 21);\\n\",\"module.exports = React;\",\"import React, {Component} from 'react';\\n\\n/**\\n * Open Profile Form\\n *\\n * Module component rendering the Open Profile Form\\n *\\n */\\nclass OpenProfileForm extends Component {\\n  constructor(props) {\\n    super(props);\\n\\n    this.state = {\\n      error: {\\n        message: '',\\n        className: 'alert alert-danger text-center',\\n      },\\n      PSCID: '',\\n      CandID: '',\\n    };\\n\\n    this.updateFormElement = this.updateFormElement.bind(this);\\n    this.validateAndSubmit = this.validateAndSubmit.bind(this);\\n  }\\n\\n  updateFormElement(formElement, value) {\\n    let state = this.state;\\n    state[formElement] = value;\\n    this.setState(state);\\n  }\\n\\n  validateAndSubmit() {\\n    let state = this.state;\\n    if (this.state.CandID === '') {\\n      state.error = {\\n        message: 'You must enter a DCCID!',\\n        className: 'alert alert-danger text-center',\\n      };\\n      this.setState(state);\\n      return;\\n    }\\n\\n    if (this.state.PSCID === '') {\\n      state.error = {\\n        message: 'You must enter a PSCID!',\\n        className: 'alert alert-danger text-center',\\n      };\\n      this.setState(state);\\n      return;\\n    }\\n\\n    // Always include a validating message.. the callback for the ajax request will\\n    // update it after the ajax call returns.\\n    state.error = {\\n      message: 'Validating...',\\n      className: 'alert alert-info text-center',\\n    };\\n    this.setState(state);\\n\\n    $.get(loris.BaseURL + '/candidate_list/validateIDs',\\n      {\\n        CandID: state.CandID,\\n        PSCID: state.PSCID,\\n      },\\n        function(data) {\\n          // ids are valid, submit accessProfileForm form\\n          if (data === '1') {\\n            state.error = {\\n              message: 'Opening profile...',\\n              className: 'alert alert-info text-center',\\n            };\\n            window.location.href = loris.BaseURL + '/' + state.CandID;\\n          } else {\\n            // display error message\\n            state.error = {\\n              message: 'DCCID or PSCID is not valid',\\n              className: 'alert alert-danger text-center',\\n            };\\n          }\\n          this.setState(state);\\n        }.bind(this));\\n  }\\n\\n  render() {\\n    let warning;\\n\\n    if (this.state.error.message !== '') {\\n      warning = (\\n              <div className={this.state.error.className}>\\n                {this.state.error.message}\\n              </div>\\n      );\\n    }\\n    return (\\n      <FormElement\\n        name='openprofile'\\n        onSubmit={this.validateAndSubmit}>\\n        <TextboxElement\\n          name='CandID'\\n          label='DCCID'\\n          value={this.state.CandID}\\n          onUserInput={this.updateFormElement}\\n        />\\n        <TextboxElement\\n          name='PSCID'\\n          label='PSCID'\\n          value={this.state.PSCID}\\n          onUserInput={this.updateFormElement}\\n        />\\n        {warning}\\n        <ButtonElement\\n          name='Open Profile'\\n          label='Open Profile'\\n          onUserInput={this.validateAndSubmit}\\n        />\\n        </FormElement>\\n    );\\n  }\\n}\\n\\nexport default OpenProfileForm;\\n\"]}","code":"(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!==\"undefined\"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:\"Module\"})}Object.defineProperty(exports,\"__esModule\",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value===\"object\"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,\"default\",{enumerable:true,value});if(mode&2&&typeof value!=\"string\")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module[\"default\"]}:function getModuleExports(){return module};__webpack_require__.d(getter,\"a\",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p=\"\";return __webpack_require__(__webpack_require__.s=21)})({0:function(module,exports){module.exports=React},21:function(module,exports,__webpack_require__){\"use strict\";var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj};Object.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=__webpack_require__(0);var _react2=_interopRequireDefault(_react);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\")}return call&&((typeof call===\"undefined\"?\"undefined\":_typeof(call))===\"object\"||typeof call===\"function\")?call:self}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+(typeof superClass===\"undefined\"?\"undefined\":_typeof(superClass)))}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var OpenProfileForm=function(_Component){_inherits(OpenProfileForm,_Component);function OpenProfileForm(props){_classCallCheck(this,OpenProfileForm);var _this=_possibleConstructorReturn(this,(OpenProfileForm.__proto__||Object.getPrototypeOf(OpenProfileForm)).call(this,props));_this.state={error:{message:\"\",className:\"alert alert-danger text-center\"},PSCID:\"\",CandID:\"\"};_this.updateFormElement=_this.updateFormElement.bind(_this);_this.validateAndSubmit=_this.validateAndSubmit.bind(_this);return _this}_createClass(OpenProfileForm,[{key:\"updateFormElement\",value:function updateFormElement(formElement,value){var state=this.state;state[formElement]=value;this.setState(state)}},{key:\"validateAndSubmit\",value:function validateAndSubmit(){var state=this.state;if(this.state.CandID===\"\"){state.error={message:\"You must enter a DCCID!\",className:\"alert alert-danger text-center\"};this.setState(state);return}if(this.state.PSCID===\"\"){state.error={message:\"You must enter a PSCID!\",className:\"alert alert-danger text-center\"};this.setState(state);return}state.error={message:\"Validating...\",className:\"alert alert-info text-center\"};this.setState(state);$.get(loris.BaseURL+\"/candidate_list/validateIDs\",{CandID:state.CandID,PSCID:state.PSCID},function(data){if(data===\"1\"){state.error={message:\"Opening profile...\",className:\"alert alert-info text-center\"};window.location.href=loris.BaseURL+\"/\"+state.CandID}else{state.error={message:\"DCCID or PSCID is not valid\",className:\"alert alert-danger text-center\"}}this.setState(state)}.bind(this))}},{key:\"render\",value:function render(){var warning=void 0;if(this.state.error.message!==\"\"){warning=_react2.default.createElement(\"div\",{className:this.state.error.className},this.state.error.message)}return _react2.default.createElement(FormElement,{name:\"openprofile\",onSubmit:this.validateAndSubmit},_react2.default.createElement(TextboxElement,{name:\"CandID\",label:\"DCCID\",value:this.state.CandID,onUserInput:this.updateFormElement}),_react2.default.createElement(TextboxElement,{name:\"PSCID\",label:\"PSCID\",value:this.state.PSCID,onUserInput:this.updateFormElement}),warning,_react2.default.createElement(ButtonElement,{name:\"Open Profile\",label:\"Open Profile\",onUserInput:this.validateAndSubmit}))}}]);return OpenProfileForm}(_react.Component);exports.default=OpenProfileForm}});","extractedComments":[]}