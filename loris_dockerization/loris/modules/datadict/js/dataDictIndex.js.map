{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///./node_modules/prop-types/index.js","webpack:///./jsx/FilterForm.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./modules/datadict/jsx/dataDictIndex.js","webpack:///./jsx/Loader.js","webpack:///./jsx/Panel.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","React","throwOnDirectAccess","isValidElement","REACT_ELEMENT_TYPE","_react","_propTypes","_Panel","FilterForm","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","clearFilter","getFormChildren","setFilter","onElementUpdate","queryString","QueryString","filter","filterKey","exactMatch","onUpdate","Module","formChildren","child","type","onUserInput","callbackFunc","callbackName","elementName","displayName","queryFieldName","filterValue","_react2","default","cloneElement","JSON","fieldName","fieldValue","_typeof","formElements","createElement","_Panel2","id","height","title","FormElement","Component","console","PropTypes","isRequired","string","func","ReactPropTypesSecret","emptyFunction","shim","propName","componentName","location","propFullName","secret","err","Error","getShim","ReactPropTypes","array","bool","number","symbol","any","arrayOf","element","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","_FilterForm","_Loader","DataDictIndex","state","isLoaded","hiddenHeaders","setFilterRef","fetchData","updateFilter","resetFilters","formatColumn","_this2","$","method","dataType","success","data","setState","error","_error","column","cell","rowData","rowHeaders","indexOf","hasEditPermission","loris","updateDict","e","innerText","fieldname","description","contentEditable","className","onBlur","_Loader2","_FilterForm2","ref","columns","form","ButtonElement","label","StaticDataTable","Data","Headers","Filter","getFormattedCell","dataDictIndex","DataURL","BaseURL","ReactDOM","document","Loader","style","width","parseInt","size","Panel","collapsed","initCollapsed","panelClass","toggleCollapsed","glyphClass","panelHeading","onClick","data-toggle","data-target","cursor","role","children"],"mappings":"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","file":"./modules/datadict/js/dataDictIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 48);\n","module.exports = React;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * This file contains React component for FilterForm\n *\n * @author Loris Team\n * @version 1.1.0\n *\n */\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from 'Panel';\n\n/**\n * FilterForm component.\n * A wrapper for form elements inside a selection filter.\n *\n * Adds necessary filter callbacks to all children and passes them to FormElement\n * for proper rendering.\n *\n * Keeps track of filter object and sends it to parent on every update.\n *\n * //HACK/NOTE: Loris has special behaviour for `candID` attribute in the query string,\n * making it impossible to use it for selection filters. This components renames\n * all `candID` fields to `candidateID` automatically before appending them to URL.\n *\n */\nclass FilterForm extends Component {\n  constructor(props) {\n    super(props);\n\n    // Bind component instance to custom methods\n    this.clearFilter = this.clearFilter.bind(this);\n    this.getFormChildren = this.getFormChildren.bind(this);\n    this.setFilter = this.setFilter.bind(this);\n    this.onElementUpdate = this.onElementUpdate.bind(this);\n\n    // Keeps track of querystring values\n    // Saved as class variable instead of keeping in state\n    this.queryString = QueryString.get();\n  }\n\n  componentDidMount() {\n    let filter = {};\n    let queryString = this.queryString;\n\n    // Initiaze filter using querystring value\n    Object.keys(queryString).forEach(function(key) {\n      let filterKey = (key === 'candidateID') ? 'candID' : key;\n      filter[filterKey] = {\n        value: queryString[key],\n        exactMatch: false,\n      };\n    });\n\n    // Update parent component\n    this.props.onUpdate(filter);\n  }\n\n  /**\n   * Clear the filter object, querystring and input fields\n   */\n  clearFilter() {\n    this.queryString = QueryString.clear(this.props.Module);\n    this.props.onUpdate({});\n  }\n\n  /**\n   * Iterates through FilterForm children, sets necessary callback functions\n   * and initializes filterTable\n   *\n   * @return {Array} formChildren - array of children with necessary props\n   */\n  getFormChildren() {\n    let formChildren = [];\n    React.Children.forEach(this.props.children, function(child, key) {\n      // If child is a React component (i.e not a simple DOM element)\n      if (React.isValidElement(child) &&\n        typeof child.type === 'function' &&\n        child.props.onUserInput\n      ) {\n        let callbackFunc = child.props.onUserInput;\n        let callbackName = callbackFunc.name;\n        let elementName = child.type.displayName;\n        let queryFieldName = (child.props.name === 'candID') ? 'candidateID' : child.props.name;\n        let filterValue = this.queryString[queryFieldName];\n        // If callback function was not set, set it to onElementUpdate() for form\n        // elements and to clearFilter() for <ButtonElement type='reset'/>.\n        if (callbackName === 'onUserInput') {\n          if (elementName === 'ButtonElement' && child.props.type === 'reset') {\n            callbackFunc = this.clearFilter;\n          } else {\n            callbackFunc = this.onElementUpdate.bind(null, elementName);\n          }\n        }\n        // Pass onUserInput and value props to all children\n        formChildren.push(React.cloneElement(child, {\n          onUserInput: callbackFunc,\n          value: filterValue ? filterValue : '',\n          key: key,\n        }));\n        // Initialize filter for StaticDataTable\n        this.setFilter(elementName, child.props.name, filterValue);\n      } else {\n        formChildren.push(React.cloneElement(child, {key: key}));\n      }\n    }.bind(this));\n\n    return formChildren;\n  }\n\n  /**\n   * Appends entry to filter object or deletes it if value is\n   * empty.\n   *\n   * Sets exactMatch to true for all SelectElements (i.e dropdowns)\n   * in order to force StaticDataTable to do exact comparaison\n   *\n   * @param {string} type - form element type (i.e component name)\n   * @param {string} key - the name of the form element\n   * @param {string} value - the value of the form element\n   *\n   * @return {{}} filter - filterData\n   */\n  setFilter(type, key, value) {\n    let filter = {};\n    if (this.props.filter) {\n      filter = JSON.parse(JSON.stringify(this.props.filter));\n    }\n    if (key) {\n      filter[key] = {};\n      if (value) { // all defined/non-null values must have some length, else empty string\n        filter[key].value = Object.keys(value).length > 0 ? value : '';\n      } else { // null and undefined handled here\n        filter[key].value = '';\n      }\n      filter[key].exactMatch = (type === 'SelectElement' || type === 'select');\n    }\n    if (filter && key && value === '') {\n      delete filter[key];\n    }\n    return filter;\n  }\n\n  /**\n   * Sets filter object and querystring to reflect values of input fields\n   *\n   * @param {string} type - form element type (i.e component name)\n   * @param {string} fieldName - the name of the form element\n   * @param {string} fieldValue - the value of the form element\n   */\n  onElementUpdate(type, fieldName, fieldValue) {\n    // Make sure key is of string type and value is of string or object type\n    // before sending them to querystring\n    if (typeof fieldName !== 'string' ||\n        (typeof fieldValue !== 'string' && typeof fieldValue !== 'object')) {\n      return;\n    }\n\n    // Update query string\n    let queryFieldName = (fieldName === 'candID') ? 'candidateID' : fieldName;\n    this.queryString = QueryString.set(this.queryString, queryFieldName, fieldValue);\n\n    // Update filter and get new filter object\n    let filter = this.setFilter(type, fieldName, fieldValue);\n    this.props.onUpdate(filter);\n  }\n\n  render() {\n    // Get formatted children\n    let formChildren = this.getFormChildren();\n    let formElements = this.props.formElements;\n\n    if (formElements) {\n      Object.keys(formElements).forEach(function(fieldName) {\n        let queryFieldName = (fieldName === 'candID') ? 'candidateID' : fieldName;\n        formElements[fieldName].onUserInput = this.onElementUpdate.bind(null, formElements[fieldName].type);\n        formElements[fieldName].value = this.queryString[queryFieldName];\n      }.bind(this));\n    }\n\n    return (\n      <Panel\n        id={this.props.id}\n        height={this.props.height}\n        title={this.props.title}\n      >\n        <FormElement {...this.props}>\n          {formChildren}\n        </FormElement>\n      </Panel>\n    );\n  }\n}\n\nFilterForm.defaultProps = {\n  id: 'selection-filter',\n  height: '100%',\n  title: 'Selection Filter',\n  onUpdate: function() {\n    console.warn('onUpdate() callback is not set!');\n  },\n};\nFilterForm.propTypes = {\n  Module: PropTypes.string.isRequired,\n  filter: PropTypes.object.isRequired,\n  id: PropTypes.string,\n  height: PropTypes.string,\n  title: PropTypes.string,\n  onUpdate: PropTypes.func,\n};\n\nexport default FilterForm;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import FilterForm from 'FilterForm';\nimport Loader from 'Loader';\n\n/**\n * Data Dictionary Page.\n *\n * Serves as an entry-point to the module, rendering the whole react\n * component page on load.\n *\n * Renders Data Dictionary main page consisting of FilterTable and\n * DataTable components.\n *\n * @author Liza Levitis\n * @version 1.0.0\n *\n * */\nclass DataDictIndex extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoaded: false,\n      filter: {},\n      hiddenHeaders: [],\n    };\n\n    /**\n     * Set filter to the element's ref for filtering\n     */\n    this.filter = null;\n    this.setFilterRef = (element) => {\n      this.filter = element;\n    };\n\n    /**\n     * Bind component instance to custom methods\n     */\n    this.fetchData = this.fetchData.bind(this);\n    this.updateFilter = this.updateFilter.bind(this);\n    this.resetFilters = this.resetFilters.bind(this);\n    this.formatColumn = this.formatColumn.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  /**\n   * Retrive data from the provided URL and save it in state\n   * Additionaly add hiddenHeaders to global loris variable\n   * for easy access by columnFormatter.\n   */\n  fetchData() {\n    $.ajax(this.props.DataURL, {\n      method: 'GET',\n      dataType: 'json',\n      success: (data) => {\n        this.setState({\n          data: data,\n          isLoaded: true,\n        });\n      },\n      error: (error) => console.error(error),\n    });\n  }\n\n  /**\n   * Set this.state.filter to the input filter object\n   *\n   * @param {object} filter - the filter object\n   */\n  updateFilter(filter) {\n    this.setState({filter});\n  }\n\n  // TODO: deprecate clearing filters via refs in future refactoring.\n  /**\n   * Reset the filter elements with textInput refs to empty values\n   */\n  resetFilters() {\n    this.filter.clearFilter();\n  }\n\n  /**\n   * Modify behaviour of specified column cells in the Data Table component\n   *\n   * @param {string} column - column name\n   * @param {string} cell - cell content\n   * @param {array} rowData - array of cell contents for a specific row\n   * @param {array} rowHeaders - array of table headers (column names)\n   *\n   * @return {*} a formated table cell for a given column\n   */\n  formatColumn(column, cell, rowData, rowHeaders) {\n    if (this.state.hiddenHeaders.indexOf(column) > -1) {\n      return null;\n    }\n    const hasEditPermission = loris.userHasPermission('data_dict_edit');\n    if (column === 'Description' && hasEditPermission) {\n      let updateDict = (name) => {\n        return (e) => {\n          e.stopPropagation();\n\n          let value = e.target.valueOf().innerText;\n          $.post(loris.BaseURL + '/datadict/ajax/UpdateDataDict.php', {\n            fieldname: name, description: value,\n          }, (data) => {});\n        };\n      };\n      return (\n        <td\n          contentEditable=\"true\"\n          className=\"description\"\n          onBlur={updateDict(rowData[1])}>\n            {cell}\n        </td>\n      );\n    }\n    return <td>{cell}</td>;\n  }\n\n  render() {\n    // Waiting for async data to load\n    if (!this.state.isLoaded) {\n      return <Loader/>;\n    }\n\n    return (\n      <div>\n        <FilterForm\n          Module=\"datadict\"\n          name=\"data_dict_filter\"\n          id=\"data_dict_filter\"\n          ref={this.setFilterRef}\n          columns={2}\n          formElements={this.state.data.form}\n          onUpdate={this.updateFilter}\n          filter={this.state.filter}>\n          <ButtonElement\n            label=\"Clear Filters\"\n            type=\"reset\"\n            onUserInput={this.resetFilters}\n          />\n        </FilterForm>\n        <StaticDataTable\n          Data={this.state.data.Data}\n          Headers={this.state.data.Headers}\n          Filter={this.state.filter}\n          getFormattedCell={this.formatColumn}\n        />\n      </div>\n    );\n  }\n}\n\n$(function() {\n  const dataDictIndex = (\n    <div className=\"page-datadict\">\n        <DataDictIndex DataURL={`${loris.BaseURL}/datadict/?format=json`} />\n    </div>\n  );\n  ReactDOM.render(dataDictIndex, document.getElementById('lorisworkspace'));\n});\n\n","/**\n * This file contains the React component for Loader\n *\n * @author Henri Rabalais\n * @version 1.0.0\n *\n */\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Loader component\n */\nclass Loader extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div\n        className='loader'\n        style={{width: parseInt(this.props.size), height: parseInt(this.props.size)}}\n      />\n    );\n  }\n}\n\nLoader.propTypes = {size: PropTypes.string};\nLoader.defaultProps = {size: '120'};\n\nexport default Loader;\n","/**\n * This file contains React component for Panel\n *\n * @author Alex I.\n * @version 1.0.0\n *\n */\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Panel component\n * Wraps children in a collapsible bootstrap panel\n */\nclass Panel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      collapsed: this.props.initCollapsed,\n    };\n\n    // Initialize panel class based on collapsed status\n    this.panelClass = (\n      this.props.initCollapsed ?\n        'panel-collapse collapse' :\n        'panel-collapse collapse in'\n    );\n\n    this.toggleCollapsed = this.toggleCollapsed.bind(this);\n  }\n\n  toggleCollapsed() {\n    this.setState({collapsed: !this.state.collapsed});\n  }\n\n  render() {\n    // Change arrow direction based on collapse status\n    let glyphClass = (\n      this.state.collapsed ?\n        'glyphicon pull-right glyphicon-chevron-down' :\n        'glyphicon pull-right glyphicon-chevron-up'\n    );\n\n    // Add panel header, if title is set\n    const panelHeading = this.props.title ? (\n      <div\n        className=\"panel-heading\"\n        onClick={this.toggleCollapsed}\n        data-toggle=\"collapse\"\n        data-target={'#' + this.props.id}\n        style={{cursor: 'pointer'}}\n      >\n        {this.props.title}\n        <span className={glyphClass}></span>\n      </div>\n    ) : '';\n\n    return (\n      <div className=\"panel panel-primary\">\n        {panelHeading}\n        <div id={this.props.id} className={this.panelClass} role=\"tabpanel\">\n          <div className=\"panel-body\" style={{height: this.props.height}}>\n            {this.props.children}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPanel.propTypes = {\n  id: PropTypes.string,\n  height: PropTypes.string,\n  title: PropTypes.string,\n};\nPanel.defaultProps = {\n  initCollapsed: false,\n  id: 'default-panel',\n  height: '100%',\n};\n\nexport default Panel;\n"],"sourceRoot":""}